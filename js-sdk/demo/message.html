<html>
  <head>
    <script src="./bundle.js"></script>
    <script src="./demo.js"></script>
  </head>
  <body>
    <h1>Demo of Skygear Chat plugin with JS-SDK</h1>
    <p>
      <label>End Point</label><br/>
      <input id="endpoint" type="text"
      value='https://chat.skygeario.com/' />
    </p>
    <p>
      <label>Api Key</label><br/>
      <input id="api-key" type="text"
      value='key' />
    </p>
    <p>You may got the above value from <a
      href="https://portal.skygear.io/app/info">Portal</a></p>
    <p><button
      onclick="demo.configSkygear(inputVal('endpoint'), inputVal('api-key'),
      'token');"
    >Apply End Point
    </button></p>
    <p>
      <label>Token</label>
      <span id="accessToken"></span>
    </p>
    <p>
      <label>Username</label>
      <span id="currentUsername"></span>
    </p>
    <p>
      <label>Email</label>
      <span id="currentEmail"></span>
    </p>
    <hr/>

    <h3>Messages</h3>
    <p>
      <label>Conversation ID</label>
      <input id="conversation-id" type="text" />
    </p>
    <ul id="messages">
    </ul>
    <p><button
      onclick="demo.getMessagesTo(inputVal('conversation-id'), null, null,
      'messages');"
    >Fetch messages
    </button></p>
    <hr/>
    <p>
      <textarea id="message-content"></textarea>
      <button
        onclick="demo.createMessage(inputVal('conversation-id'),
        inputVal('message-content'),
        null, 'messages');"
      >Send message
      </button>
    </p>
    <script>
      var demo = new Demo(skygear, skygear_chat);
      demo.configSkygear(
        inputVal('endpoint'),
        inputVal('api-key')
      );
    </script>
  </body>
</html>
